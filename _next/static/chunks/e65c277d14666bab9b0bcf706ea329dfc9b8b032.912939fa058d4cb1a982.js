(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[24],{"9ghv":function(e,t,n){"use strict";n.d(t,"a",(function(){return Me}));var r=n("vJKn"),o=n.n(r),a=n("rg98"),i=n("HALo"),c=n("q1tI"),s=n.n(c),u=n("VQJT"),l=n.n(u),p=n("17x9"),f=n.n(p),d=n("mrSG"),h=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function g(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=h.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var m=[".DS_Store","Thumbs.db"];function v(e){return"object"===typeof e&&null!==e}function b(e){return j(e.target.files).map((function(e){return g(e)}))}function y(e){return Object(d.b)(this,void 0,void 0,(function(){return Object(d.d)(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return g(e)}))]}}))}))}function w(e,t){return Object(d.b)(this,void 0,void 0,(function(){var n;return Object(d.d)(this,(function(r){switch(r.label){case 0:return null===e?[2,[]]:e.items?(n=j(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(x))]):[3,2];case 1:return[2,O(D(r.sent()))];case 2:return[2,O(j(e.files).map((function(e){return g(e)})))]}}))}))}function O(e){return e.filter((function(e){return-1===m.indexOf(e.name)}))}function j(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function x(e){if("function"!==typeof e.webkitGetAsEntry)return P(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?C(t):P(e)}function D(e){return e.reduce((function(e,t){return Object(d.e)(e,Array.isArray(t)?D(t):[t])}),[])}function P(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=g(t);return Promise.resolve(n)}function k(e){return Object(d.b)(this,void 0,void 0,(function(){return Object(d.d)(this,(function(t){return[2,e.isDirectory?C(e):S(e)]}))}))}function C(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function o(){var a=this;t.readEntries((function(t){return Object(d.b)(a,void 0,void 0,(function(){var a,i,c;return Object(d.d)(this,(function(s){switch(s.label){case 0:if(t.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=s.sent(),e(a),[3,4];case 3:return i=s.sent(),n(i),[3,4];case 4:return[3,6];case 5:c=Promise.all(t.map(k)),r.push(c),o(),s.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function S(e){return Object(d.b)(this,void 0,void 0,(function(){return Object(d.d)(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=g(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var M=n("X1Co"),F=n.n(M);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(s){c=!0,o=s}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T="file-invalid-type",L="file-too-large",U="file-too-small",B="too-many-files",_=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:T,message:"File type must be ".concat(t)}},N=function(e){return{code:L,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},K=function(e){return{code:U,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},V={code:B,message:"Too many files"};function H(e,t){var n="application/x-moz-file"===e.type||F()(e,t);return[n,n?null:_(t)]}function X(e,t,n){if($(e.size))if($(t)&&$(n)){if(e.size>n)return[!1,N(n)];if(e.size<t)return[!1,K(t)]}else{if($(t)&&e.size<t)return[!1,K(t)];if($(n)&&e.size>n)return[!1,N(n)]}return[!0,null]}function $(e){return void 0!==e&&null!==e}function Y(e){var t=e.files,n=e.accept,r=e.minSize,o=e.maxSize,a=e.multiple,i=e.maxFiles;return!(!a&&t.length>1||a&&i>=1&&t.length>i)&&t.every((function(e){var t=R(H(e,n),1)[0],a=R(X(e,r,o),1)[0];return t&&a}))}function J(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function q(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function W(e){e.preventDefault()}function G(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function Q(e){return-1!==e.indexOf("Edge/")}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return G(e)||Q(e)}function ee(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.some((function(t){return!J(e)&&t&&t.apply(void 0,[e].concat(r)),J(e)}))}}function te(){return"showOpenFilePicker"in window}function ne(e){return e="string"===typeof e?e.split(","):e,[{description:"everything",accept:Array.isArray(e)?e.filter((function(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)})).reduce((function(e,t){return A(A({},e),{},E({},t,[]))}),{}):{}}]}var re=["children"],oe=["open"],ae=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ie=["refKey","onChange","onClick"];function ce(e){return function(e){if(Array.isArray(e))return le(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(s){c=!0,o=s}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){if(e){if("string"===typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ge=Object(c.forwardRef)((function(e,t){var n=e.children,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=fe(fe({},me),e),n=t.accept,r=t.disabled,o=t.getFilesFromEvent,a=t.maxSize,i=t.minSize,s=t.multiple,u=t.maxFiles,l=t.onDragEnter,p=t.onDragLeave,f=t.onDragOver,d=t.onDrop,h=t.onDropAccepted,g=t.onDropRejected,m=t.onFileDialogCancel,v=t.onFileDialogOpen,b=t.useFsAccessApi,y=t.preventDropOnDocument,w=t.noClick,O=t.noKeyboard,j=t.noDrag,x=t.noDragEventsBubbling,D=t.validator,P=Object(c.useMemo)((function(){return"function"===typeof v?v:we}),[v]),k=Object(c.useMemo)((function(){return"function"===typeof m?m:we}),[m]),C=Object(c.useRef)(null),S=Object(c.useRef)(null),M=se(Object(c.useReducer)(ye,be),2),F=M[0],I=M[1],A=F.isFocused,E=F.isFileDialogActive,R=F.draggedFiles,z=function(){E&&setTimeout((function(){S.current&&(S.current.files.length||(I({type:"closeDialog"}),k()))}),300)};Object(c.useEffect)((function(){return b&&te()?function(){}:(window.addEventListener("focus",z,!1),function(){window.removeEventListener("focus",z,!1)})}),[S,E,k,b]);var T=Object(c.useRef)([]),L=function(e){C.current&&C.current.contains(e.target)||(e.preventDefault(),T.current=[])};Object(c.useEffect)((function(){return y&&(document.addEventListener("dragover",W,!1),document.addEventListener("drop",L,!1)),function(){y&&(document.removeEventListener("dragover",W),document.removeEventListener("drop",L))}}),[C,y]);var U=Object(c.useCallback)((function(e){e.preventDefault(),e.persist(),ge(e),T.current=[].concat(ce(T.current),[e.target]),q(e)&&Promise.resolve(o(e)).then((function(t){J(e)&&!x||(I({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),l&&l(e))}))}),[o,l,x]),B=Object(c.useCallback)((function(e){e.preventDefault(),e.persist(),ge(e);var t=q(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&f&&f(e),!1}),[f,x]),_=Object(c.useCallback)((function(e){e.preventDefault(),e.persist(),ge(e);var t=T.current.filter((function(e){return C.current&&C.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),T.current=t,t.length>0||(I({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),q(e)&&p&&p(e))}),[C,p,x]),N=Object(c.useCallback)((function(e,t){var r=[],o=[];e.forEach((function(e){var t=se(H(e,n),2),c=t[0],s=t[1],u=se(X(e,i,a),2),l=u[0],p=u[1],f=D?D(e):null;if(c&&l&&!f)r.push(e);else{var d=[s,p];f&&(d=d.concat(f)),o.push({file:e,errors:d.filter((function(e){return e}))})}})),(!s&&r.length>1||s&&u>=1&&r.length>u)&&(r.forEach((function(e){o.push({file:e,errors:[V]})})),r.splice(0)),I({acceptedFiles:r,fileRejections:o,type:"setFiles"}),d&&d(r,o,t),o.length>0&&g&&g(o,t),r.length>0&&h&&h(r,t)}),[I,s,n,i,a,u,d,h,g,D]),K=Object(c.useCallback)((function(e){e.preventDefault(),e.persist(),ge(e),T.current=[],q(e)&&Promise.resolve(o(e)).then((function(t){J(e)&&!x||N(t,e)})),I({type:"reset"})}),[o,N,x]),$=Object(c.useCallback)((function(){if(b&&te()){I({type:"openDialog"}),P();var e={multiple:s,types:ne(n)};window.showOpenFilePicker(e).then((function(e){return o(e)})).then((function(e){return N(e,null)})).catch((function(e){return k(e)})).finally((function(){return I({type:"closeDialog"})}))}else S.current&&(I({type:"openDialog"}),P(),S.current.value=null,S.current.click())}),[I,P,k,b,N,n,s]),G=Object(c.useCallback)((function(e){C.current&&C.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),$()))}),[C,S,$]),Q=Object(c.useCallback)((function(){I({type:"focus"})}),[]),re=Object(c.useCallback)((function(){I({type:"blur"})}),[]),oe=Object(c.useCallback)((function(){w||(Z()?setTimeout($,0):$())}),[S,w,$]),ue=function(e){return r?null:e},le=function(e){return O?null:ue(e)},pe=function(e){return j?null:ue(e)},ge=function(e){x&&e.stopPropagation()},ve=Object(c.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,o=e.role,a=e.onKeyDown,i=e.onFocus,c=e.onBlur,s=e.onClick,u=e.onDragEnter,l=e.onDragOver,p=e.onDragLeave,f=e.onDrop,d=he(e,ae);return fe(fe(de({onKeyDown:le(ee(a,G)),onFocus:le(ee(i,Q)),onBlur:le(ee(c,re)),onClick:ue(ee(s,oe)),onDragEnter:pe(ee(u,U)),onDragOver:pe(ee(l,B)),onDragLeave:pe(ee(p,_)),onDrop:pe(ee(f,K)),role:"string"===typeof o&&""!==o?o:"button"},n,C),r||O?{}:{tabIndex:0}),d)}}),[C,G,Q,re,oe,U,B,_,K,O,j,r]),Oe=Object(c.useCallback)((function(e){e.stopPropagation()}),[]),je=Object(c.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,o=e.onChange,a=e.onClick,i=he(e,ie);return fe(fe({},de({accept:n,multiple:s,type:"file",style:{display:"none"},onChange:ue(ee(o,K)),onClick:ue(ee(a,Oe)),autoComplete:"off",tabIndex:-1},r,S)),i)}}),[S,n,s,K,r]),xe=R.length,De=xe>0&&Y({files:R,accept:n,minSize:i,maxSize:a,multiple:s,maxFiles:u}),Pe=xe>0&&!De;return fe(fe({},F),{},{isDragAccept:De,isDragReject:Pe,isFocused:A&&!r,getRootProps:ve,getInputProps:je,rootRef:C,inputRef:S,open:ue($)})}(he(e,re)),o=r.open,a=he(r,oe);return Object(c.useImperativeHandle)(t,(function(){return{open:o}}),[o]),s.a.createElement(c.Fragment,null,n(fe(fe({},a),{},{open:o})))}));ge.displayName="Dropzone";var me={disabled:!1,getFilesFromEvent:function(e){return Object(d.b)(this,void 0,void 0,(function(){return Object(d.d)(this,(function(t){return v(e)&&v(e.dataTransfer)?[2,w(e.dataTransfer,e.type)]:function(e){return v(e)&&v(e.target)}(e)?[2,b(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"===typeof e.getFile}))?[2,y(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1};ge.defaultProps=me,ge.propTypes={children:f.a.func,accept:f.a.oneOfType([f.a.string,f.a.arrayOf(f.a.string)]),multiple:f.a.bool,preventDropOnDocument:f.a.bool,noClick:f.a.bool,noKeyboard:f.a.bool,noDrag:f.a.bool,noDragEventsBubbling:f.a.bool,minSize:f.a.number,maxSize:f.a.number,maxFiles:f.a.number,disabled:f.a.bool,getFilesFromEvent:f.a.func,onFileDialogCancel:f.a.func,onFileDialogOpen:f.a.func,useFsAccessApi:f.a.bool,onDragEnter:f.a.func,onDragLeave:f.a.func,onDragOver:f.a.func,onDrop:f.a.func,onDropAccepted:f.a.func,onDropRejected:f.a.func,validator:f.a.func};var ve=ge,be={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function ye(e,t){switch(t.type){case"focus":return fe(fe({},e),{},{isFocused:!0});case"blur":return fe(fe({},e),{},{isFocused:!1});case"openDialog":return fe(fe({},be),{},{isFileDialogActive:!0});case"closeDialog":return fe(fe({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return fe(fe({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return fe(fe({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return fe({},be);default:return e}}function we(){}var Oe=n("siax"),je=n("tDFY"),xe=n("ICkt"),De=n("/MKj"),Pe=n("52mf"),ke=n("hSdx"),Ce=n("Ridf"),Se=s.a.createElement;function Me(e){e.width,e.height,e.radius,e.type;var t=e.onSave,n=Object(c.useState)(1),r=n[0],o=n[1],a=Object(c.useState)(0),u=a[0],l=a[1];return Se(s.a.Fragment,null,0===u&&Se(Fe,Object(i.a)({onDrop:function(e){o(e),l(1)}},e)),1===u&&Se(Ie,Object(i.a)({onSave:t,imgFile:r||void 0},e)))}function Fe(e){var t,n=e.onDrop,r=e.width,o=e.height;return Object(c.useEffect)((function(){Object(ke.P)()&&t.open()}),[]),Se(ve,{onDrop:n,ref:function(e){t=e},multiple:!1},(function(e){var t=e.getRootProps,n=e.getInputProps;return Se("section",{className:"h-full"},Se("div",Object(i.a)({},t(),{className:"h-56 flex flex-col text-center m-auto border-dashed border-2 rounded-lg border-gray-400 m-2 p-4",style:{height:o+100+"px",width:r+100+"px"}}),Se("input",n()),Se("div",{className:"flex-1 self-center md:mt-20"},Se("p",null,"Drag and drop image here"),Se(je.a,{className:"mt-12"},"Upload"))))}))}function Ie(e){var t=e.width,n=e.height,r=e.radius,i=e.imgFile,u=e.type,p=e.onSave,f=e.data,d=(e.extraData,e.url),h=void 0===d?"cover"===u||"profile"===u?"/inflosousers/".concat(u,"-media-upload"):u:d,g=Object(c.useRef)(),m=Object(c.useState)(1),v=m[0],b=m[1],y=Object(c.useState)(!1),w=y[0],O=y[1],j=Object(c.useState)(""),x=j[0],D=j[1],P=Object(De.d)(),k=function(){var t=Object(a.a)(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:D(""),O(!0),g&&(n=g.current.getImage(),r=Object(xe.d)(),n.toBlob(function(){var t=Object(a.a)(o.a.mark((function t(n){var a,c,s,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={},t.next=3,Object(Ce.a)(n,a);case 3:return c=t.sent,(s=new FormData).append("file",c,i&&i.length>0?i[0].name:"pic.jpeg"),f&&Object.keys(f).length>0&&Object.keys(f).map((function(e,t){s.append(e,f[e])})),t.prev=7,t.next=10,fetch(h,{method:"POST",body:s,headers:{Authorization:"Bearer "+r.access}}).then((function(e){return e.json()})).then((function(e){}));case 10:if(l=t.sent,"cover"!==u&&"profile"!==u){t.next=21;break}if(!f||!f.agency_brand_id){t.next=16;break}P(Pe.a.page.loadAgencyBrand(f.agency_brand_id)),t.next=19;break;case 16:return t.next=18,P(Pe.a.user.getUser());case 18:t.sent;case 19:t.next=22;break;case 21:e.onUpload&&e.onUpload(l);case 22:O(!1),p(),t.next=30;break;case 26:t.prev=26,t.t0=t.catch(7),D("Could not save"),O(!1);case 30:case"end":return t.stop()}}),t,null,[[7,26]])})));return function(e){return t.apply(this,arguments)}}(),i&&i.length>0?i[0].type:"image/jpeg",.7));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Se(s.a.Fragment,null,Se(l.a,{ref:g,image:i[0]||"/images/card-3.jpg",width:t||250,height:n||250,border:50,borderRadius:r||500,color:[0,0,0,.8],scale:v,rotate:0}),Se(Oe.b,{className:"slider-blue mt-2",onChange:b,handleStyle:{borderColor:"#0074D9",borderWidth:"6px",height:28,width:28,marginTop:-12,backgroundColor:"white"},min:1,max:4,step:.1,defaultValue:v}),Se("div",{className:"flex flex-row mt-4"},Se("div",{className:"flex-1 self-center"},x?Se("span",{className:"text-red-700"},x):""),Se("div",{className:"flex-initial"},Se(je.a,{loading:w,onClick:w?function(){}:k},"Save"))))}},VQJT:function(e,t,n){e.exports=function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(e),o=n(t);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r,o=l(t);return!(r=n?(e=l(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments))||"object"!=typeof r&&"function"!=typeof r?d(this):r}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){return new Promise((function(n,r){var o,a=new Image;a.onload=function(){return n(a)},a.onerror=r,0==(null!==(o=e)&&!!o.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z-]+=[a-z-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@/?%\s]*\s*$/i))&&t&&(a.crossOrigin=t),a.src=e}))}var y,w=!("undefined"==typeof window||"undefined"==typeof navigator||!("ontouchstart"in window||0<navigator.msMaxTouchPoints)),O="undefined"!=typeof File,j={touch:{react:{down:"onTouchStart",mouseDown:"onMouseDown",drag:"onTouchMove",move:"onTouchMove",mouseMove:"onMouseMove",up:"onTouchEnd",mouseUp:"onMouseUp"},native:{down:"touchstart",mouseDown:"mousedown",drag:"touchmove",move:"touchmove",mouseMove:"mousemove",up:"touchend",mouseUp:"mouseup"}},desktop:{react:{down:"onMouseDown",drag:"onDragOver",move:"onMouseMove",up:"onMouseUp"},native:{down:"mousedown",drag:"dragStart",move:"mousemove",up:"mouseup"}}},x=w?j.touch:j.desktop,D="undefined"!=typeof window&&window.devicePixelRatio?window.devicePixelRatio:1,P={x:.5,y:.5},k=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,o.default.Component);var e,t,n,r=h(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),i(d(t=r.call(this,e)),"state",{drag:!1,my:null,mx:null,image:P}),i(d(t),"handleImageReady",(function(e){var n=t.getInitialSize(e.width,e.height);n.resource=e,n.x=.5,n.y=.5,n.backgroundColor=t.props.backgroundColor,t.setState({drag:!1,image:n},t.props.onImageReady),t.props.onLoadSuccess(n)})),i(d(t),"clearImage",(function(){t.canvas.getContext("2d").clearRect(0,0,t.canvas.width,t.canvas.height),t.setState({image:P})})),i(d(t),"handleMouseDown",(function(e){(e=e||window.event).preventDefault(),t.setState({drag:!0,mx:null,my:null})})),i(d(t),"handleMouseUp",(function(){t.state.drag&&(t.setState({drag:!1}),t.props.onMouseUp())})),i(d(t),"handleMouseMove",(function(e){var n,r,o,a,i,c,s,l,p,f,d,h,g,m,v,b;e=e||window.event,!1!==t.state.drag&&(e.preventDefault(),o={mx:n=e.targetTouches?e.targetTouches[0].pageX:e.clientX,my:r=e.targetTouches?e.targetTouches[0].pageY:e.clientY},b=t.props.rotate,b=(b%=360)<0?b+360:b,t.state.mx&&t.state.my&&(a=t.state.mx-n,i=t.state.my-r,c=t.state.image.width*t.props.scale,s=t.state.image.height*t.props.scale,p=(l=t.getCroppingRect()).x,f=l.y,p*=c,f*=s,d=function(e){return e*(Math.PI/180)},h=Math.cos(d(b)),m=f+-a*(g=Math.sin(d(b)))+i*h,v={x:(p+a*h+i*g)/c+1/t.props.scale*t.getXScale()/2,y:m/s+1/t.props.scale*t.getYScale()/2},t.props.onPositionChange(v),o.image=u(u({},t.state.image),v)),t.setState(o),t.props.onMouseMove(e))})),i(d(t),"setCanvas",(function(e){t.canvas=e})),t.canvas=null,t}return e=s,(t=[{key:"componentDidMount",value:function(){this.props.disableHiDPIScaling&&(D=1);var e,t,n=this.canvas.getContext("2d");this.props.image&&this.loadImage(this.props.image),this.paint(n),document&&(e=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}()&&{passive:!1},t=x.native,document.addEventListener(t.move,this.handleMouseMove,e),document.addEventListener(t.up,this.handleMouseUp,e),w&&(document.addEventListener(t.mouseMove,this.handleMouseMove,e),document.addEventListener(t.mouseUp,this.handleMouseUp,e)))}},{key:"componentDidUpdate",value:function(e,t){this.props.image&&this.props.image!==e.image||this.props.width!==e.width||this.props.height!==e.height||this.props.backgroundColor!==e.backgroundColor?this.loadImage(this.props.image):this.props.image||t.image===P||this.clearImage();var n=this.canvas.getContext("2d");n.clearRect(0,0,this.canvas.width,this.canvas.height),this.paint(n),this.paintImage(n,this.state.image,this.props.border),e.image===this.props.image&&e.width===this.props.width&&e.height===this.props.height&&e.position===this.props.position&&e.scale===this.props.scale&&e.rotate===this.props.rotate&&t.my===this.state.my&&t.mx===this.state.mx&&t.image.x===this.state.image.x&&t.image.y===this.state.image.y&&t.backgroundColor===this.state.backgroundColor||this.props.onImageChange()}},{key:"componentWillUnmount",value:function(){var e;document&&(e=x.native,document.removeEventListener(e.move,this.handleMouseMove,!1),document.removeEventListener(e.up,this.handleMouseUp,!1),w&&(document.removeEventListener(e.mouseMove,this.handleMouseMove,!1),document.removeEventListener(e.mouseUp,this.handleMouseUp,!1)))}},{key:"isVertical",value:function(){return!this.props.disableCanvasRotation&&this.props.rotate%180!=0}},{key:"getBorders",value:function(e){var t=0<arguments.length&&void 0!==e?e:this.props.border;return Array.isArray(t)?t:[t,t]}},{key:"getDimensions",value:function(){var e=this.props,t=e.width,n=e.height,r=e.rotate,o=e.border,a={},i=g(this.getBorders(o),2),c=i[0],s=i[1],u=t,l=n;return this.isVertical()?(a.width=l,a.height=u):(a.width=u,a.height=l),a.width+=2*c,a.height+=2*s,{canvas:a,rotate:r,width:t,height:n,border:o}}},{key:"getImage",value:function(){var e=this.getCroppingRect(),t=this.state.image;e.x*=t.resource.width,e.y*=t.resource.height,e.width*=t.resource.width,e.height*=t.resource.height;var n=document.createElement("canvas");this.isVertical()?(n.width=e.height,n.height=e.width):(n.width=e.width,n.height=e.height);var r=n.getContext("2d");return r.translate(n.width/2,n.height/2),r.rotate(this.props.rotate*Math.PI/180),r.translate(-n.width/2,-n.height/2),this.isVertical()&&r.translate((n.width-n.height)/2,(n.height-n.width)/2),t.backgroundColor&&(r.fillStyle=t.backgroundColor,r.fillRect(-e.x,-e.y,t.resource.width,t.resource.height)),r.drawImage(t.resource,-e.x,-e.y),n}},{key:"getImageScaledToCanvas",value:function(){var e=this.getDimensions(),t=e.width,n=e.height,r=document.createElement("canvas");return this.isVertical()?(r.width=n,r.height=t):(r.width=t,r.height=n),this.paintImage(r.getContext("2d"),this.state.image,0,1),r}},{key:"getXScale",value:function(){var e=this.props.width/this.props.height,t=this.state.image.width/this.state.image.height;return Math.min(1,e/t)}},{key:"getYScale",value:function(){var e=this.props.height/this.props.width,t=this.state.image.height/this.state.image.width;return Math.min(1,e/t)}},{key:"getCroppingRect",value:function(){var e=this.props.position||{x:this.state.image.x,y:this.state.image.y},t=1/this.props.scale*this.getXScale(),n=1/this.props.scale*this.getYScale(),r={x:e.x-t/2,y:e.y-n/2,width:t,height:n},o=0,a=1-r.width,i=0,c=1-r.height;return(this.props.disableBoundaryChecks||1<t||1<n)&&(o=-r.width,i=-r.height,c=a=1),u(u({},r),{},{x:Math.max(o,Math.min(r.x,a)),y:Math.max(i,Math.min(r.y,c))})}},{key:"loadImage",value:function(e){var t;O&&e instanceof File?this.loadingImage=(t=e,new Promise((function(e,n){var r=new FileReader;r.onload=function(t){try{var r=b(t.target.result);e(r)}catch(t){n(t)}},r.readAsDataURL(t)})).then(this.handleImageReady).catch(this.props.onLoadFailure)):"string"==typeof e&&(this.loadingImage=b(e,this.props.crossOrigin).then(this.handleImageReady).catch(this.props.onLoadFailure))}},{key:"getInitialSize",value:function(e,t){var n,r,o=this.getDimensions();return t/e<o.height/o.width?r=e*((n=this.getDimensions().height)/t):n=t*((r=this.getDimensions().width)/e),{height:n,width:r}}},{key:"paintImage",value:function(e,t,n,r){var o,a=3<arguments.length&&void 0!==r?r:D;t.resource&&(o=this.calculatePosition(t,n),e.save(),e.translate(e.canvas.width/2,e.canvas.height/2),e.rotate(this.props.rotate*Math.PI/180),e.translate(-e.canvas.width/2,-e.canvas.height/2),this.isVertical()&&e.translate((e.canvas.width-e.canvas.height)/2,(e.canvas.height-e.canvas.width)/2),e.scale(a,a),e.globalCompositeOperation="destination-over",e.drawImage(t.resource,o.x,o.y,o.width,o.height),t.backgroundColor&&(e.fillStyle=t.backgroundColor,e.fillRect(o.x,o.y,o.width,o.height)),e.restore())}},{key:"calculatePosition",value:function(e,t){e=e||this.state.image;var n=g(this.getBorders(t),2),r=n[0],o=n[1],a=this.getCroppingRect(),i=e.width*this.props.scale,c=e.height*this.props.scale,s=-a.x*i,u=-a.y*c;return this.isVertical()?(s+=o,u+=r):(s+=r,u+=o),{x:s,y:u,height:c,width:i}}},{key:"paint",value:function(e){e.save(),e.scale(D,D),e.translate(0,0),e.fillStyle="rgba("+this.props.color.slice(0,4).join(",")+")";var t,n,r,o,a,i,c,s,u=this.props.borderRadius,l=this.getDimensions(),p=g(this.getBorders(l.border),2),f=p[0],d=p[1],h=l.canvas.height,m=l.canvas.width;u=Math.max(u,0),u=Math.min(u,m/2-f,h/2-d),e.beginPath(),t=e,o=m-2*(n=f),a=h-2*(r=d),0===(i=u)?t.rect(n,r,o,a):(c=o-i,s=a-i,t.translate(n,r),t.arc(i,i,i,Math.PI,1.5*Math.PI),t.lineTo(c,0),t.arc(c,i,i,1.5*Math.PI,2*Math.PI),t.lineTo(o,s),t.arc(c,s,i,2*Math.PI,.5*Math.PI),t.lineTo(i,a),t.arc(i,s,i,.5*Math.PI,Math.PI),t.translate(-n,-r)),e.rect(m,0,-m,h),e.fill("evenodd"),e.restore()}},{key:"render",value:function(){var e=this.props,t=(e.scale,e.rotate,e.image,e.border,e.borderRadius,e.width,e.height,e.position,e.color,e.backgroundColor,e.style),n=(e.crossOrigin,e.onLoadFailure,e.onLoadSuccess,e.onImageReady,e.onImageChange,e.onMouseUp,e.onMouseMove,e.onPositionChange,e.disableBoundaryChecks,e.disableHiDPIScaling,e.disableCanvasRotation,f(e,["scale","rotate","image","border","borderRadius","width","height","position","color","backgroundColor","style","crossOrigin","onLoadFailure","onLoadSuccess","onImageReady","onImageChange","onMouseUp","onMouseMove","onPositionChange","disableBoundaryChecks","disableHiDPIScaling","disableCanvasRotation"])),r=this.getDimensions(),a={width:r.canvas.width,height:r.canvas.height,cursor:this.state.drag?"grabbing":"grab",touchAction:"none"},i={width:r.canvas.width*D,height:r.canvas.height*D,style:u(u({},a),t)};return i[x.react.down]=this.handleMouseDown,w&&(i[x.react.mouseDown]=this.handleMouseDown),o.default.createElement("canvas",c({ref:this.setCanvas},i,n))}}])&&a(e.prototype,t),n&&a(e,n),s}();return i(k,"propTypes",{scale:r.default.number,rotate:r.default.number,image:r.default.oneOfType([r.default.string].concat(function(e){if(Array.isArray(e))return v(e)}(y=O?[r.default.instanceOf(File)]:[])||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(y)||m(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),border:r.default.oneOfType([r.default.number,r.default.arrayOf(r.default.number)]),borderRadius:r.default.number,width:r.default.number,height:r.default.number,position:r.default.shape({x:r.default.number,y:r.default.number}),color:r.default.arrayOf(r.default.number),backgroundColor:r.default.string,crossOrigin:r.default.oneOf(["","anonymous","use-credentials"]),onLoadFailure:r.default.func,onLoadSuccess:r.default.func,onImageReady:r.default.func,onImageChange:r.default.func,onMouseUp:r.default.func,onMouseMove:r.default.func,onPositionChange:r.default.func,disableBoundaryChecks:r.default.bool,disableHiDPIScaling:r.default.bool,disableCanvasRotation:r.default.bool}),i(k,"defaultProps",{scale:1,rotate:0,border:25,borderRadius:0,width:200,height:200,color:[0,0,0,.5],onLoadFailure:function(){},onLoadSuccess:function(){},onImageReady:function(){},onImageChange:function(){},onMouseUp:function(){},onMouseMove:function(){},onPositionChange:function(){},disableBoundaryChecks:!1,disableHiDPIScaling:!1,disableCanvasRotation:!0}),k}(n("17x9"),n("q1tI"))},X1Co:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),a=o.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?a===t.replace(/\/.*$/,""):o===t}))}return!0}}}]);
//# sourceMappingURL=e65c277d14666bab9b0bcf706ea329dfc9b8b032.912939fa058d4cb1a982.js.map